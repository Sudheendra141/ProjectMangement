<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <title>Page 1</title>
      <style>
         .filter-result 
         {
         margin-top: 50px; 
         margin-left: 50px;
         width: 50vw;
         }
         table
         {
         border:1px solid rgb(148, 140, 140);
         height: 100%;
         width: 100%;
         border-collapse: collapse;
         border-radius: 30px;
         }
         th
         {
         height: 40px;
         color: white;
         background-color: rgb(0, 133, 252);
         }
         td
         {
         height: 20px;
         text-align: left;
         border:1px solid rgb(148, 140, 140);
         padding: 10px;
         }
         .project-details
         {
         display: flex;
         flex-direction: row;
         justify-content: space-between;
         align-items: center;
         width: 80vw;
         }
         .box
         {
         border-radius: 5px;
         width: 200px;
         height: 40px;
         overflow:hidden;
         }
         .box select 
         {
         padding-left: 1.5rem;
         display: block;
         width: 100%;
         height: 100%;
         outline: none;
         border: none;
         background-color: rgb(108, 118, 125);
         color: white;
         }
         input[type="date"],input[type="submit"]
         {
         display: block;
         height: 100%;
         outline: none;
         border: none;
         background-color: rgb(108, 118, 125);
         color: white;
         }
         input[type="date"]:hover,input[type="submit"]:hover
         {
         background-color:rgb(37, 56, 88);
         }
         .box  :hover
         {
         background-color: rgb(37, 56, 88);
         cursor: pointer;
         }
      </style>
   </head>
   <body>
      <h1>Project Details</h1>
      <form action="/ProjectDetails" method="post">
         <div class="project-details">
            <div class="box team" >
               <select id="teams" name="team">
                
                  <% for(let i=0;i<data.teams.length;i++) {%>
                     <option value="<%=data.teams[i].team %>"> <%= data.teams[i].team %></option>
                 <%}%>
               </select>
            </div>
            <div class="status box">
               <select id="status"  name="status">
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                  <option value="Yet to start">Yet to start</option>
               </select>
            </div>
            <div class="from-date box">
               <input type="date" name="startDate" />
            </div>
            <div class="to-date box">
               <input type="date" name="endDate" placeholder="End Date"/>
            </div>
            <div class="box">
               <input type="submit" value="Fetch"/>
            </div>
         </div>
      </form>
      <div class="filter-result" style="display: <%=data.result?'block':'none' %>;">
         <table>   
            <thead>
               <tr>
                  <th> Project Name</th>
                  <th> Team</th>
                  <th> Start Date</th>
                  <th>  Status</th>
               </tr>
            </thead>
            <tbody>
               
            <% 
            if(data.result)
            {
            for(let i=0;i<data.projectDetails.length;i++){ %>
               <tr>
                  <td><%=data.projectDetails[i].project_name%></td>
                  <td><%=data.projectDetails[i].team %></td>
                  <td><%=data.projectDetails[i].start_date %></td>
                  <td><%=data.projectDetails[i].status %></td>
               </tr>
               <% }
             } %>
            </tbody>
         </table>
      </div>
   </body>
</html>